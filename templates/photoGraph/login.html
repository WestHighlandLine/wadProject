{% extends 'photoGraph/base.html' %}
{% load staticfiles %}

{% block title_block %}
    Login
{% endblock %}

{% block custom_head %}
<style>
    #main-content {
        max-width: max-content;
    }
</style>
{% endblock %}

{% block body_block %}
<h1>Login to photoGraph</h1>
{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}
<form id="login_form" method="post" action="{% url 'main:login' %}">
    {% csrf_token %}
    Username: <input type="text" name="username" value="{{ username }}" size="50" />
    <br />
    Password: <input type="password" name="password" value="" size="50" />
    <br />
    <input type="hidden" name="next" value="" size="50" id="next"/>
    <input type="submit" value="submit" />
</form><br/>
<a href="{% url 'main:signup' %}">Or sign-up...</a>

<script>
    let next = (new URL(window.location)).searchParams.get("next");
    if (next != "") {
        document.getElementById("next").value = next;
    }
</script>
{% endblock %}